<!DOCTYPE html>
<html>
<head>
    <title>PWA Prototype</title>
    <link rel="canonical" href="https://localhost:8120">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <style>
        .alpheios-demo-target-word {
            background: lightgoldenrodyellow;
        }

        .alph-update-ui-cont {
            display: flex;
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 50px;
            background: #73CDDE;
            border-top: 1px solid #666666;
            padding: 10px 20px;
            box-sizing: border-box;
            color: #666666;
            z-index: 2000;
        }

        .alph-update-ui-msg {
            flex: 1 1 auto;
        }

        .alph-update-ui-btn {
            font-size: 14px;
            background: #4E6476;
            padding: 2px 10px;
            text-transform: uppercase;
            flex: 0 0 auto;
            border: none;
            color: #FFF;
            margin: 0 5px;
            cursor: pointer;
        }
    </style>

    <!-- Swipe test panel styles -->
    <style>
        output {
            display: block;
            padding: 1em 0.5em;
            background: #ddd;
            height: 2em;
            overflow:auto;
            font-size: 3em;
            text-align: center;
            touch-action: none;
        }
    </style>

    <script>
      console.log(`Head script executing`)
      if ('serviceWorker' in navigator) { // Checks if Service Workers are supported by the browser

        /*
        Register service worker only after a page is fully loaded so that the service worker registration
        would not slow down page showing.
         */
        window.addEventListener('load', () => {
          // Delay registration until document is parsed and fully loaded

          console.log("Navigator online state is " + navigator.onLine)
          if (navigator.onLine === true) {
            console.log(`Registering a service worker ...`)
            navigator.serviceWorker.register('/sw.js', {scope: '/'})
              .then(reg => console.log('Service worker has been registered!', reg))
              .catch(err => console.log('Service worker failed to register', err));
          } else {
            console.log(`Skipping a service worker registration because we're offline`)
          }
        })
      } else {
        console.log('Service workers are not supported.');
      }
      document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM content loaded')
      })
      document.addEventListener('load', () => {
        console.log('Document loaded')
      })
      window.addEventListener('load', () => {
        console.log('Window loaded')
      })
    </script>
</head>

<body>
<h1>PWA Prototype Main Page</h1>

<p lang="lat">
    Quemadmodum vocabula essent imposita rebus in lingua Latina, sex libris exponere institui. De his tris ante hunc
    feci quos Septumio misi: in quibus est de disciplina, quam vocant etymologiken: quae contra eam dicerentur, volumine
    primo, quae pro ea, secundo, quae de ea, tertio. In his ad te scribam, a quibus rebus vocabula imposita sint in
    lingua Latina, et ea quae sunt in consuetudine apud populum et ea quae inveniuntur apud poetas.
</p>

<h2>Swipe test panel</h2>
<output></output>

<p lang="lat">
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit <span
        class='alpheios-demo-target-word'>cupidinibus</span>. Proin aliquet purus at
    ullamcorper dignissim. Sed <span class='alpheios-demo-target-word'>cepit</span> maximus dui. Morbi viverra, metus in fermentum
    lobortis, arcu est vehicula nibh, a efficitur orci libero eu eros. Nam vulputate risus sed odio <span
        class='alpheios-demo-target-word'>mare</span>, quis <span
        class='alpheios-demo-target-word'>amatum</span> [noun, adj, verb participle, supine]
    nibh tincidunt. Mauris eu posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut,
    maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p lang='grc'>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor <span class='alpheios-demo-target-word'>φιλόσοφος</span>.
    Vestibulum venenatis <span class='alpheios-demo-target-word'>τούτων</span> [demonstrative] nibh, vitae ornare urna fringilla eu. Nam efficitur
    blandit metus. Nullam in <span class='alpheios-demo-target-word'>τινά</span> [indefinite] et sapien iaculis accumsan nec ut neque.
    <span class='alpheios-demo-target-word'>αὐτῶν</span> [reflexive, no exact match] aliquam urna
    <span class='alpheios-demo-target-word'>ἡμῶν</span> [reflexive, personal] egestas tempor.
    Pellentesque <span class='alpheios-demo-target-word'>βουλεύητον</span> [verb, paradigm] morbi
    tristique senectus et netus et malesuada fames ac turpis egestas.
    Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>
<p>
    Nunc maximus ex id tincidunt pretium. Nunc vel dignissim magna, ut hendrerit lectus. Proin aliquet purus at
    ullamcorper dignissim. Sed mollis maximus dui. Morbi viverra, metus in fermentum lobortis, arcu est vehicula nibh, a
    efficitur orci libero eu eros. Nam vulputate risus sed odio fermentum, quis pharetra nibh tincidunt. Mauris eu
    posuere nunc, tincidunt accumsan metus. Nullam quis enim laoreet, euismod lacus ut, maximus ipsum. Donec vitae
    sapien non sem eleifend posuere sed vel mauris.
</p>
<p>
    Sed non orci convallis, iaculis ipsum quis, luctus orci. In et auctor metus. Vestibulum venenatis turpis nibh, vitae
    ornare urna fringilla eu. Nam efficitur blandit metus. Nullam in quam et sapien iaculis accumsan nec ut neque.
    Aenean aliquam urna quis egestas tempor. Pellentesque habitant morbi tristique senectus et netus et malesuada fames
    ac turpis egestas. Praesent sit amet tellus dignissim, tristique ante luctus, gravida lectus.
</p>
<p>
    Sed aliquet ultricies ultrices. Mauris finibus velit quam, in vehicula ipsum congue at. Maecenas malesuada, lectus
    at cursus vehicula, purus nibh fringilla mi, vel porta dui sapien vitae velit. Proin sagittis nulla et ipsum
    vehicula, id sagittis est dictum. In suscipit hendrerit dui, elementum facilisis ligula venenatis sit amet.
    Pellentesque vel dolor sit amet purus accumsan eleifend pellentesque vitae massa. Mauris quis commodo nisi, a
    accumsan massa.
</p>
<p>
    Nam id ante venenatis, laoreet erat ut, euismod justo. Praesent consectetur dictum risus, mollis lobortis nibh
    suscipit ac. Phasellus interdum risus est, quis commodo metus euismod quis. Phasellus ac erat ut quam ornare
    faucibus. Aenean viverra orci malesuada augue tempor ultrices. Vestibulum tempus, massa vitae laoreet blandit, erat
    erat eleifend mauris, eget feugiat tortor risus sit amet lacus. Nulla in condimentum augue. Nam luctus mi leo, in
    tincidunt sem fringilla nec. Phasellus dapibus sagittis congue. Aenean non interdum ipsum.
</p>
<p>
    Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum vitae magna
    rhoncus, dapibus ipsum in, vehicula justo. Aenean pellentesque, lectus quis efficitur tincidunt, lacus diam
    ultricies dolor, nec iaculis magna ipsum at justo. Aenean facilisis tortor at ultrices vulputate. Quisque magna
    neque, vulputate pulvinar dictum quis, vulputate eget mi. Integer sollicitudin gravida felis eu tempus. Proin justo
    risus, vulputate porta commodo vitae, ultricies a lorem. Fusce elementum lacus quis mi varius, at fermentum tortor
    dapibus. Aenean eleifend, lacus a convallis ornare, ex augue faucibus mi, in mattis mauris massa eget ex. In hac
    habitasse platea dictumst. Sed mattis nibh in arcu porttitor commodo.
</p>

<script>
  function showRefreshUI(registration) {
    console.log(`Show refresh UI called`)
    // Create an update UI
    var updateUIContainer = document.createElement('div');
    updateUIContainer.classList.add('alph-update-ui-cont')
    updateUIContainer.innerHTML = `
    <span class="alph-update-ui-msg">There is an update available. Do you want to activate it? All open app pages will be reloaded</span>
    <button id="alph-update-ui-ok" class="alph-update-ui-btn">Update</button>
    <button id="alph-update-ui-cancel" class="alph-update-ui-btn">Postpone</button>
    `

    updateUIContainer.querySelector('#alph-update-ui-ok').addEventListener('click', function() {
      if (!registration.waiting) {
        // Just to ensure registration.waiting is available before
        // calling postMessage()
        return;
      }

      registration.waiting.postMessage('skipWaiting');
    });

    updateUIContainer.querySelector('#alph-update-ui-cancel').addEventListener('click', function() {
      updateUIContainer.style.display = 'none'
    });

    document.body.appendChild(updateUIContainer);
  };

  function onNewServiceWorker(registration, callback) {
    if (registration.waiting) {
      // SW is waiting to activate. Can occur if multiple clients open and
      // one of the clients is refreshed.
      return callback();
    }

    function listenInstalledStateChange() {
      registration.installing.addEventListener('statechange', function(event) {
        if (event.target.state === 'installed') {
          // A new service worker is available, inform the user
          callback();
        }
      });
    };

    if (registration.installing) {
      return listenInstalledStateChange();
    }

    // We are currently controlled so a new SW may be found...
    // Add a listener in case a new SW is found,
    registration.addEventListener('updatefound', listenInstalledStateChange);
  }

  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/sw.js')
      .then(function (registration) {
        // Track updates to the Service Worker.
        if (!navigator.serviceWorker.controller) {
          // The window client isn't currently controlled so it's a new service
          // worker that will activate immediately
          return;
        }

        // When the user asks to refresh the UI, we'll need to reload the window
        var preventDevToolsReloadLoop;
        navigator.serviceWorker.addEventListener('controllerchange', function(event) {
          // Ensure refresh is only called once.
          // This works around a bug in "force update on reload".
          if (preventDevToolsReloadLoop) return;
          preventDevToolsReloadLoop = true;
          console.log('Controller loaded');
          window.location.reload();
        });

        onNewServiceWorker(registration, function() {
          showRefreshUI(registration);
        });
      });
  });
</script>
</body>
</html>